<p id="notice"><%= notice %></p>

<p>
  <strong>Url:</strong>
  <%= "#{@machine.protocol}://#{@machine.host}:#{@machine.port}/sonar_api_v1" %>
  <br>
  <strong>Hostname:</strong>
  <%= @hostname %>
  <br>
  <strong>Current CPU load: </strong>
  <%= @cpu_load %>
  %
  <br>
  <strong>Current RAM Load: </strong>
  <%= @ram_load %>
  %
  <br>
  <div id="cpu_chart" style="width:100%; height:400px;"></div>
  <script>
    $(function () {
      $('#cpu_chart').highcharts({
        yAxis: {
          title: {
            text: 'Last 10 CPU metrics'
          },
          labels: {
            formatter: function() {
              return this.value + ' %';
            }
          },
        },
        legend: {
          enabled: false
        },
        xAxis: {
          labels: {
            enabled: false
          },
        },
        title:{
          text: 'Last 10 CPU metrics'
        },
        plotOptions: {
          series: {
            allowPointSelect: true
          }
        },
        series: [{
          data: <%= @cpu_load_last10 %>
        }]
      });
    });

  </script>
</p>

<%= link_to 'Edit', edit_machine_path(@machine) %> |
<%= link_to 'Back', machines_path %>
